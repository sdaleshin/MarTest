var fs=require("fs"),path=require("path"),pkginfo=module.exports=function(e,t){var n=[].slice.call(arguments,2).filter(function(e){return typeof e=="string"});Array.isArray(t)?t={include:t}:typeof t=="string"&&(t={include:[t]}),t=t||{include:[]},n.length>0&&(t.include=t.include.concat(n));var r=pkginfo.read(e,t.dir).package;return Object.keys(r).forEach(function(n){if(t.include.length>0&&!~t.include.indexOf(n))return;e.exports[n]||(e.exports[n]=r[n])}),pkginfo};pkginfo.find=function(e,t){t=t||e.filename,t=path.dirname(t);var n=fs.readdirSync(t);if(~n.indexOf("package.json"))return path.join(t,"package.json");if(t==="/")throw new Error("Could not find package.json up from: "+t);if(!t||t===".")throw new Error("Cannot find package.json from unspecified directory");return pkginfo.find(e,t)},pkginfo.read=function(e,t){t=pkginfo.find(e,t);var n=fs.readFileSync(t).toString();return{dir:t,"package":JSON.parse(n)}},pkginfo(module,{dir:__dirname,include:["version"],target:pkginfo});