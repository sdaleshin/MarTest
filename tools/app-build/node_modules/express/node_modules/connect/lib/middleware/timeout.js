/*!
 * Connect - timeout
 * Ported from https://github.com/LearnBoost/connect-timeout
 * MIT Licensed
 */

var debug=require("debug")("connect:timeout");module.exports=function(t){return t=t||5e3,function(e,n,r){var i=setTimeout(function(){e.emit("timeout",t)},t);e.on("timeout",function(){if(n.headerSent)return debug("response started, cannot timeout");var e=new Error("Response timeout");e.timeout=t,e.status=503,r(e)}),e.clearTimeout=function(){clearTimeout(i)},n.on("header",function(){clearTimeout(i)}),r()}};