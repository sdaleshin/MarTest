/*!
 * Connect - methodOverride
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * MIT Licensed
 */

function supports(e){return~methods.indexOf(e)}var methods=require("methods");module.exports=function(t){return t=t||"_method",function(n,r,i){var s;n.originalMethod=n.originalMethod||n.method,n.body&&typeof n.body=="object"&&t in n.body&&(s=n.body[t].toLowerCase(),delete n.body[t]),n.headers["x-http-method-override"]&&(s=n.headers["x-http-method-override"].toLowerCase()),supports(s)&&(n.method=s.toUpperCase()),i()}};