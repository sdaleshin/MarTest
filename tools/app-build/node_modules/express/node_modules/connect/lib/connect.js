/*!
 * Connect
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * MIT Licensed
 */

function createServer(){function e(t,n,r){e.handle(t,n,r)}utils.merge(e,proto),utils.merge(e,EventEmitter.prototype),e.route="/",e.stack=[];for(var t=0;t<arguments.length;++t)e.use(arguments[t]);return e}var EventEmitter=require("events").EventEmitter,proto=require("./proto"),utils=require("./utils"),path=require("path"),basename=path.basename,fs=require("fs");require("./patch"),exports=module.exports=createServer,exports.version="2.7.11",exports.mime=require("./middleware/static").mime,exports.proto=proto,exports.middleware={},exports.utils=utils,createServer.createServer=createServer,fs.readdirSync(__dirname+"/middleware").forEach(function(e){function n(){return require("./middleware/"+t)}if(!/\.js$/.test(e))return;var t=basename(e,".js");exports.middleware.__defineGetter__(t,n),exports.__defineGetter__(t,n)});