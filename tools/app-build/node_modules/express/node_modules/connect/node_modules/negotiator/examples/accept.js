(function(){var e,t,n,r,i,s,o;e=require("../lib/negotiator").Negotiator,n=require("http"),i={"text/html":"<h1>Hello world!</h1>","text/plain":"Hello World!","application/json":JSON.stringify({hello:"world!"})},t=function(){var e;e=[];for(r in i)o=i[r],e.push(r);return e}(),s=n.createServer(function(n,r){var s,o;return o=new e(n),console.log("Accept: "+n.headers.accept),console.log("Preferred: "+o.preferredMediaTypes()),console.log("Possible: "+o.preferredMediaTypes(t)),s=o.preferredMediaType(t),console.log("Selected: "+s),s?(r.writeHead(200,{"Content-Type":s}),r.end(i[s])):(r.writeHead(406),r.end())}),s.listen(8080)}).call(this);