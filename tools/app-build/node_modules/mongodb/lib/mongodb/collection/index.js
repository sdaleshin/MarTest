var _getWriteConcern=require("./shared")._getWriteConcern,createIndex=function(t,n,r){var i=Array.prototype.slice.call(arguments,1);r=i.pop(),n=i.length?i.shift()||{}:{},n=typeof r=="function"?n:r,n=n==null?{}:n;var s=_getWriteConcern(this,n);this.db.createIndex(this.collectionName,t,n,r)},indexExists=function(t,n){this.indexInformation(function(e,r){if(e!=null)return n(e,null);if(Array.isArray(t)){for(var i=0;i<t.length;i++)if(r[t[i]]==null)return n(null,!1);return n(null,!0)}return n(null,r[t]!=null)})},dropAllIndexes=function(t){this.db.dropIndex(this.collectionName,"*",function(e,n){if(e)return t(e,!1);t(null,!0)})},indexInformation=function(t,n){var r=Array.prototype.slice.call(arguments,0);n=r.pop(),t=r.length?r.shift()||{}:{},this.db.indexInformation(this.collectionName,t,n)},ensureIndex=function(t,n,r){typeof r=="undefined"&&typeof n=="function"&&(r=n,n={}),n==null&&(n={}),this.db.ensureIndex(this.collectionName,t,n,r)};exports.createIndex=createIndex,exports.indexExists=indexExists,exports.dropAllIndexes=dropAllIndexes,exports.indexInformation=indexInformation,exports.ensureIndex=ensureIndex;