var ReplSetState=function(t){this.errorMessages=[],this.secondaries={},this.addresses={},this.arbiters={},this.passives={},this.members=[],this.errors={},this.setName=null,this.master=null,this.replset=t};ReplSetState.prototype.hasValidServers=function(){var e=[];if(this.master&&this.master.isConnected())return!0;if(this.secondaries){var t=Object.keys(this.secondaries);for(var n=0;n<t.length;n++)if(this.secondaries[t[n]].isConnected())return!0}return!1},ReplSetState.prototype.getAllReadServers=function(){var e=[];for(var t in this.addresses)e.push(this.addresses[t]);return e},ReplSetState.prototype.addServer=function(e,t){e.name=t.me,t.ismaster?(this.master=e,this.addresses[e.name]=e,this.replset.emit("joined","primary",t,e)):t.secondary?(this.secondaries[e.name]=e,this.addresses[e.name]=e,this.replset.emit("joined","secondary",t,e)):t.arbiters&&(this.arbiters[e.name]=e,this.addresses[e.name]=e,this.replset.emit("joined","arbiter",t,e))},ReplSetState.prototype.contains=function(e){return this.addresses[e]!=null},ReplSetState.prototype.isPrimary=function(e){return this.master&&this.master.name==e.name},ReplSetState.prototype.isSecondary=function(e){return this.secondaries[e.name]!=null},exports.ReplSetState=ReplSetState;