"use strict";var assert=require("assert"),constaninople=require("../");describe("isConstant(src)",function(){it('handles "[5 + 3 + 10]"',function(){assert(constaninople.isConstant("[5 + 3 + 10]")===!0)}),it("handles \"/[a-z]/.test('a')\"",function(){assert(constaninople.isConstant("/[a-z]/.test('a')")===!0)}),it("handles \"{'class': [('data')]}\"",function(){assert(constaninople.isConstant("{'class': [('data')]}")===!0)}),it('handles "Math.random()"',function(){assert(constaninople.isConstant("Math.random()")===!1)}),it('handles "Math.random("',function(){assert(constaninople.isConstant("Math.random(")===!1)})}),describe("toConstant(src)",function(){it('handles "[5 + 3 + 10]"',function(){assert.deepEqual(constaninople.toConstant("[5 + 3 + 10]"),[18])}),it("handles \"/[a-z]/.test('a')\"",function(){assert(constaninople.toConstant("/[a-z]/.test('a')")===!0)}),it("handles \"{'class': [('data')]}\"",function(){assert.deepEqual(constaninople.toConstant("{'class': [('data')]}"),{"class":["data"]})}),it('handles "Math.random()"',function(){try{constaninople.toConstant("Math.random()")}catch(e){return}assert(!1,"Math.random() should result in an error")}),it('handles "Math.random("',function(){try{constaninople.toConstant("Math.random(")}catch(e){return}assert(!1,"Math.random( should result in an error")})});