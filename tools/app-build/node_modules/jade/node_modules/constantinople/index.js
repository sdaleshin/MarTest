"use strict";function isConstant(e){e="("+e+")";if(lastSRC===e)return lastRes;lastSRC=e;try{return lastRes=detect(e).length===0}catch(t){return lastRes=!1}}function toConstant(e){if(!isConstant(e))throw new Error(JSON.stringify(e)+" is not constant.");return Function("return ("+e+")")()}function detect(e){var t=uglify.parse(e.toString());t.figure_out_scope();var n=t.globals.map(function(e,t){return t});return n}var uglify=require("uglify-js"),lastSRC="(null)",lastRes=!0;module.exports=isConstant,isConstant.isConstant=isConstant,isConstant.toConstant=toConstant;