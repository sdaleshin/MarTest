function createStreamAPI(){var e,t,n,r,i,s=!0,o=!1,u=[],a=!1;return e=new Stream,e.writable=!1,e.readable=!0,e.pause=function(){o=!0,s=!0},e.resume=function(){o=!0,s=!1;while(!s&&u.length){var e=u.shift();this.emit(e.type,e.data)}},e.destroy=function(){a=!0,e.readable=!1,e.emit("close")},t=function(t){if(a)return;return s?u.push({type:"data",data:t}):e.emit("data",t)},n=function(t,n){if(a)return;e.emit("end")},r=function(t){if(a)return;return s?u.push({type:"warn",data:t}):e.emit("warn",t)},i=function(t){if(a)return;return s?u.push({type:"error",data:t}):e.emit("error",t)},process.nextTick(function(){if(a)return;if(o)return;e.resume()}),{stream:e,processEntry:t,done:n,handleError:r,handleFatalError:i}}var Stream=require("stream");module.exports=createStreamAPI;