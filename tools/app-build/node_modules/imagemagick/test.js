var fs=require("fs"),im=require("./imagemagick"),path=__dirname+"/sample-images/blue-bottle-coffee.jpg",imdata=fs.readFileSync(path,"binary");im.identify(path,function(e,t){if(e)return console.error(e.stack||e);console.log("identify(path) ->",t)}),im.identify({data:imdata},function(e,t){if(e)return console.error(e.stack||e);console.log("identify({data:imdata}) ->",t)}),im.readMetadata(path,function(e,t){if(e)return console.error(e.stack||e);console.log("readMetadata(path) ->",t)}),im.readMetadata({data:imdata},function(e,t){if(e)return console.error(e.stack||e);console.log("readMetadata({data:imdata} ->",t)});var timeStarted=new Date;im.resize({srcPath:path,dstPath:"test-resized.jpg",width:256},function(e,t,n){if(e)return console.error(e.stack||e);console.log('resize(...) wrote "test-resized.jpg"'),console.log("real time taken for convert: "+(new Date-timeStarted)+" ms"),im.identify(["-format","%b","test-resized.jpg"],function(e,t){if(e)throw e;console.log("identify(['-format', '%b', 'test-resized.jpg']) ->",t)})}),timeStarted=new Date,im.resize({srcData:imdata,width:256},function(e,t,n){if(e)return console.error(e.stack||e);console.log("real time taken for convert (with buffers): "+(new Date-timeStarted)+" ms"),fs.writeFileSync("test-resized-io.jpg",t,"binary"),console.log('resize(...) wrote "test-resized.jpg" ('+t.length+" Bytes)")});