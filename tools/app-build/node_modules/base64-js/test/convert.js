function map(e,t){var n=[],r,i;for(var s=0,o=e.length;s<o;s++)typeof e!="string"||!e.charAt(s)?typeof e!="string"&&s in e&&(r=e[s],i=t(r,s,e),n[s]=i):(r=e.charAt(s),i=t(r,s,e),n[s]=i);return n}var test=require("tape"),b64=require("../lib/b64"),checks=["a","aa","aaa","hi","hi!","hi!!","sup","sup?","sup?!"],res;test("convert to base64 and back",function(e){e.plan(checks.length);for(var t=0;t<checks.length;t++){var n=checks[t],r,i,s;r=b64.fromByteArray(map(n,function(e){return e.charCodeAt(0)})),i=b64.toByteArray(r),s=map(i,function(e){return String.fromCharCode(e)}).join(""),e.equal(n,s,"Checked "+n)}});