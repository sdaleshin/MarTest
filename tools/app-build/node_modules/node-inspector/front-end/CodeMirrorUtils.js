/*
 * Copyright (C) 2013 Google Inc. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

WebInspector.CodeMirrorUtils={createTokenizer:function(e){function r(e,r){var i=new CodeMirror.StringStream(e);while(!i.eol()){var s=t.token(i,n),o=i.current();r(o,s,i.start,i.start+o.length),i.start=i.pos}}var t=CodeMirror.getMode({indentUnit:2},e),n=CodeMirror.startState(t);return r},convertTokenType:function(e){return e.startsWith("js-variable")||e.startsWith("js-property")||e==="js-def"?"javascript-ident":e==="js-string-2"?"javascript-regexp":e==="js-number"||e==="js-comment"||e==="js-string"||e==="js-keyword"?"javascript-"+e.substring("js-".length):null},overrideModeWithPrefixedTokens:function(e,t){function r(t,r){var s={};for(var o in r)s[o]=r[o];s.name=n;var u=CodeMirror.getMode(t,s);return u.name=e,u.token=i.bind(this,u.token),u}function i(e,n,r){var i=e(n,r);return i?t+i:i}var n=e+"-old";if(CodeMirror.modes[n])return;CodeMirror.defineMode(n,CodeMirror.modes[e]),CodeMirror.defineMode(e,r)}},WebInspector.CodeMirrorUtils.overrideModeWithPrefixedTokens("css-base","css-"),WebInspector.CodeMirrorUtils.overrideModeWithPrefixedTokens("javascript","js-"),WebInspector.CodeMirrorUtils.overrideModeWithPrefixedTokens("xml","xml-");