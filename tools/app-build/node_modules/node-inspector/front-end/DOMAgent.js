/*
 * Copyright (C) 2009, 2010 Google Inc. All rights reserved.
 * Copyright (C) 2009 Joseph Pecoraro
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

WebInspector.DOMNode=function(e,t,n,r){this._domAgent=e,this.ownerDocument=t,this._isInShadowTree=n,this.id=r.nodeId,e._idToDOMNode[this.id]=this,this._nodeType=r.nodeType,this._nodeName=r.nodeName,this._localName=r.localName,this._nodeValue=r.nodeValue,this._shadowRoots=[],this._attributes=[],this._attributesMap={},r.attributes&&this._setAttributesPayload(r.attributes),this._userProperties={},this._descendantUserPropertyCounters={},this._childNodeCount=r.childNodeCount||0,this._children=null,this.nextSibling=null,this.previousSibling=null,this.firstChild=null,this.lastChild=null,this.parentNode=null;if(r.shadowRoots)for(var i=0;i<r.shadowRoots.length;++i){var s=r.shadowRoots[i],o=new WebInspector.DOMNode(this._domAgent,this.ownerDocument,!0,s);this._shadowRoots.push(o),o.parentNode=this}r.templateContent&&(this._templateContent=new WebInspector.DOMNode(this._domAgent,this.ownerDocument,!0,r.templateContent),this._templateContent.parentNode=this),r.children&&this._setChildrenPayload(r.children),r.contentDocument&&(this._contentDocument=new WebInspector.DOMDocument(e,r.contentDocument),this._children=[this._contentDocument],this._renumber()),this._nodeType===Node.ELEMENT_NODE?(this.ownerDocument&&!this.ownerDocument.documentElement&&this._nodeName==="HTML"&&(this.ownerDocument.documentElement=this),this.ownerDocument&&!this.ownerDocument.body&&this._nodeName==="BODY"&&(this.ownerDocument.body=this)):this._nodeType===Node.DOCUMENT_TYPE_NODE?(this.publicId=r.publicId,this.systemId=r.systemId,this.internalSubset=r.internalSubset):this._nodeType===Node.ATTRIBUTE_NODE&&(this.name=r.name,this.value=r.value)},WebInspector.DOMNode.XPathStep=function(e,t){this.value=e,this.optimized=t},WebInspector.DOMNode.XPathStep.prototype={toString:function(){return this.value}},WebInspector.DOMNode.prototype={children:function(){return this._children?this._children.slice():null},hasAttributes:function(){return this._attributes.length>0},childNodeCount:function(){return this._childNodeCount},hasShadowRoots:function(){return!!this._shadowRoots.length},shadowRoots:function(){return this._shadowRoots.slice()},templateContent:function(){return this._templateContent},nodeType:function(){return this._nodeType},nodeName:function(){return this._nodeName},isInShadowTree:function(){return this._isInShadowTree},nodeNameInCorrectCase:function(){return this.isXMLNode()?this.nodeName():this.nodeName().toLowerCase()},setNodeName:function(e,t){DOMAgent.setNodeName(this.id,e,WebInspector.domAgent._markRevision(this,t))},localName:function(){return this._localName},nodeValue:function(){return this._nodeValue},setNodeValue:function(e,t){DOMAgent.setNodeValue(this.id,e,WebInspector.domAgent._markRevision(this,t))},getAttribute:function(e){var t=this._attributesMap[e];return t?t.value:undefined},setAttribute:function(e,t,n){DOMAgent.setAttributesAsText(this.id,t,e,WebInspector.domAgent._markRevision(this,n))},setAttributeValue:function(e,t,n){DOMAgent.setAttributeValue(this.id,e,t,WebInspector.domAgent._markRevision(this,n))},attributes:function(){return this._attributes},removeAttribute:function(e,t){function n(n){if(!n){delete this._attributesMap[e];for(var r=0;r<this._attributes.length;++r)if(this._attributes[r].name===e){this._attributes.splice(r,1);break}}WebInspector.domAgent._markRevision(this,t)(n)}DOMAgent.removeAttribute(this.id,e,n.bind(this))},getChildNodes:function(e){function t(t){!t&&e&&e(this.children())}if(this._children){e&&e(this.children());return}DOMAgent.requestChildNodes(this.id,undefined,t.bind(this))},getSubtree:function(e,t){function n(e){t&&t(e?null:this._children)}DOMAgent.requestChildNodes(this.id,e,n.bind(this))},getOuterHTML:function(e){DOMAgent.getOuterHTML(this.id,e)},setOuterHTML:function(e,t){DOMAgent.setOuterHTML(this.id,e,WebInspector.domAgent._markRevision(this,t))},removeNode:function(e){DOMAgent.removeNode(this.id,WebInspector.domAgent._markRevision(this,e))},copyNode:function(){function e(e,t){e||InspectorFrontendHost.copyText(t)}DOMAgent.getOuterHTML(this.id,e)},copyXPath:function(e){InspectorFrontendHost.copyText(this.xPath(e))},eventListeners:function(e,t){DOMAgent.getEventListenersForNode(this.id,e,t)},path:function(){var e=[],t=this;while(t&&"index"in t&&t._nodeName.length)e.push([t.index,t._nodeName]),t=t.parentNode;return e.reverse(),e.join(",")},appropriateSelectorFor:function(e){var t=this.localName()||this.nodeName().toLowerCase(),n=this.getAttribute("id");if(n){var r="#"+n;return e?r:t+r}var i=this.getAttribute("class");if(i){var r="."+i.trim().replace(/\s+/g,".");return e?r:t+r}return t==="input"&&this.getAttribute("type")?t+'[type="'+this.getAttribute("type")+'"]':t},isAncestor:function(e){if(!e)return!1;var t=e.parentNode;while(t){if(this===t)return!0;t=t.parentNode}return!1},isDescendant:function(e){return e!==null&&e.isAncestor(this)},_setAttributesPayload:function(e){var t=!this._attributes||e.length!==this._attributes.length*2,n=this._attributesMap||{};this._attributes=[],this._attributesMap={};for(var r=0;r<e.length;r+=2){var i=e[r],s=e[r+1];this._addAttribute(i,s);if(t)continue;if(!n[i]||n[i].value!==s)t=!0}return t},_insertChild:function(e,t){var n=new WebInspector.DOMNode(this._domAgent,this.ownerDocument,this._isInShadowTree,t);return this._children.splice(this._children.indexOf(e)+1,0,n),this._renumber(),n},_removeChild:function(e){this._children.splice(this._children.indexOf(e),1),e.parentNode=null,e._updateChildUserPropertyCountsOnRemoval(this),this._renumber()},_setChildrenPayload:function(e){if(this._contentDocument)return;this._children=[];for(var t=0;t<e.length;++t){var n=e[t],r=new WebInspector.DOMNode(this._domAgent,this.ownerDocument,this._isInShadowTree,n);this._children.push(r)}this._renumber()},_renumber:function(){this._childNodeCount=this._children.length;if(this._childNodeCount==0){this.firstChild=null,this.lastChild=null;return}this.firstChild=this._children[0],this.lastChild=this._children[this._childNodeCount-1];for(var e=0;e<this._childNodeCount;++e){var t=this._children[e];t.index=e,t.nextSibling=e+1<this._childNodeCount?this._children[e+1]:null,t.previousSibling=e-1>=0?this._children[e-1]:null,t.parentNode=this}},_addAttribute:function(e,t){var n={name:e,value:t,_node:this};this._attributesMap[e]=n,this._attributes.push(n)},_setAttribute:function(e,t){var n=this._attributesMap[e];n?n.value=t:this._addAttribute(e,t)},_removeAttribute:function(e){var t=this._attributesMap[e];t&&(this._attributes.remove(t),delete this._attributesMap[e])},moveTo:function(e,t,n){DOMAgent.moveTo(this.id,e.id,t?t.id:undefined,WebInspector.domAgent._markRevision(this,n))},isXMLNode:function(){return!!this.ownerDocument&&!!this.ownerDocument.xmlVersion},xPath:function(e){if(this._nodeType===Node.DOCUMENT_NODE)return"/";var t=[],n=this;while(n){var r=n._xPathValue(e);if(!r)break;t.push(r);if(r.optimized)break;n=n.parentNode}return t.reverse(),(t.length&&t[0].optimized?"":"/")+t.join("/")},_xPathValue:function(e){var t,n=this._xPathIndex();if(n===-1)return null;switch(this._nodeType){case Node.ELEMENT_NODE:if(e&&this.getAttribute("id"))return new WebInspector.DOMNode.XPathStep('//*[@id="'+this.getAttribute("id")+'"]',!0);t=this._localName;break;case Node.ATTRIBUTE_NODE:t="@"+this._nodeName;break;case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:t="text()";break;case Node.PROCESSING_INSTRUCTION_NODE:t="processing-instruction()";break;case Node.COMMENT_NODE:t="comment()";break;case Node.DOCUMENT_NODE:t="";break;default:t=""}return n>0&&(t+="["+n+"]"),new WebInspector.DOMNode.XPathStep(t,this._nodeType===Node.DOCUMENT_NODE)},_xPathIndex:function(){function e(e,t){if(e===t)return!0;if(e._nodeType===Node.ELEMENT_NODE&&t._nodeType===Node.ELEMENT_NODE)return e._localName===t._localName;if(e._nodeType===t._nodeType)return!0;var n=e._nodeType===Node.CDATA_SECTION_NODE?Node.TEXT_NODE:e._nodeType,r=t._nodeType===Node.CDATA_SECTION_NODE?Node.TEXT_NODE:t._nodeType;return n===r}var t=this.parentNode?this.parentNode._children:null;if(!t)return 0;var n;for(var r=0;r<t.length;++r)if(e(this,t[r])&&t[r]!==this){n=!0;break}if(!n)return 0;var i=1;for(var r=0;r<t.length;++r)if(e(this,t[r])){if(t[r]===this)return i;++i}return-1},_updateChildUserPropertyCountsOnRemoval:function(e){var t={};if(this._userProperties)for(var n in this._userProperties)t[n]=(t[n]||0)+1;if(this._descendantUserPropertyCounters)for(var n in this._descendantUserPropertyCounters){var r=this._descendantUserPropertyCounters[n];t[n]=(t[n]||0)+r}for(var n in t)e._updateDescendantUserPropertyCount(n,-t[n])},_updateDescendantUserPropertyCount:function(e,t){this._descendantUserPropertyCounters.hasOwnProperty(e)||(this._descendantUserPropertyCounters[e]=0),this._descendantUserPropertyCounters[e]+=t,this._descendantUserPropertyCounters[e]||delete this._descendantUserPropertyCounters[e],this.parentNode&&this.parentNode._updateDescendantUserPropertyCount(e,t)},setUserProperty:function(e,t){if(t===null){this.removeUserProperty(e);return}this.parentNode&&!this._userProperties.hasOwnProperty(e)&&this.parentNode._updateDescendantUserPropertyCount(e,1),this._userProperties[e]=t},removeUserProperty:function(e){if(!this._userProperties.hasOwnProperty(e))return;delete this._userProperties[e],this.parentNode&&this.parentNode._updateDescendantUserPropertyCount(e,-1)},getUserProperty:function(e){return this._userProperties?this._userProperties[e]:null},descendantUserPropertyCount:function(e){return this._descendantUserPropertyCounters&&this._descendantUserPropertyCounters[e]?this._descendantUserPropertyCounters[e]:0},resolveURL:function(e){if(!e)return e;for(var t=this;t;t=t.parentNode)if(t.baseURL)return WebInspector.ParsedURL.completeURL(t.baseURL,e);return null}},WebInspector.DOMDocument=function(e,t){WebInspector.DOMNode.call(this,e,this,!1,t),this.documentURL=t.documentURL||"",this.baseURL=t.baseURL,console.assert(this.baseURL),this.xmlVersion=t.xmlVersion,this._listeners={}},WebInspector.DOMDocument.prototype={__proto__:WebInspector.DOMNode.prototype},WebInspector.DOMAgent=function(){this._idToDOMNode={},this._document=null,this._attributeLoadNodeIds={},InspectorBackend.registerDOMDispatcher(new WebInspector.DOMDispatcher(this)),this._defaultHighlighter=new WebInspector.DefaultDOMNodeHighlighter,this._highlighter=this._defaultHighlighter},WebInspector.DOMAgent.Events={AttrModified:"AttrModified",AttrRemoved:"AttrRemoved",CharacterDataModified:"CharacterDataModified",NodeInserted:"NodeInserted",NodeRemoved:"NodeRemoved",DocumentUpdated:"DocumentUpdated",ChildNodeCountUpdated:"ChildNodeCountUpdated",UndoRedoRequested:"UndoRedoRequested",UndoRedoCompleted:"UndoRedoCompleted",InspectNodeRequested:"InspectNodeRequested"},WebInspector.DOMAgent.prototype={requestDocument:function(e){function t(e,t){e||this._setDocument(t);for(var n=0;n<this._pendingDocumentRequestCallbacks.length;++n){var r=this._pendingDocumentRequestCallbacks[n];r&&r(this._document)}delete this._pendingDocumentRequestCallbacks}if(this._document){e&&e(this._document);return}if(this._pendingDocumentRequestCallbacks){this._pendingDocumentRequestCallbacks.push(e);return}this._pendingDocumentRequestCallbacks=[e],DOMAgent.getDocument(t.bind(this))},existingDocument:function(){return this._document},pushNodeToFrontend:function(e,t){this._dispatchWhenDocumentAvailable(DOMAgent.requestNode.bind(DOMAgent,e),t)},pushNodeByPathToFrontend:function(e,t){this._dispatchWhenDocumentAvailable(DOMAgent.pushNodeByPathToFrontend.bind(DOMAgent,e),t)},pushNodeByBackendIdToFrontend:function(e,t){this._dispatchWhenDocumentAvailable(DOMAgent.pushNodeByBackendIdToFrontend.bind(DOMAgent,e),t)},_wrapClientCallback:function(e){if(!e)return;return function(t,n){e(t?null:n)}},_dispatchWhenDocumentAvailable:function(e,t){function r(){this._document?e(n):n&&n("No document")}var n=this._wrapClientCallback(t);this.requestDocument(r.bind(this))},_attributeModified:function(e,t,n){var r=this._idToDOMNode[e];if(!r)return;r._setAttribute(t,n),this.dispatchEventToListeners(WebInspector.DOMAgent.Events.AttrModified,{node:r,name:t})},_attributeRemoved:function(e,t){var n=this._idToDOMNode[e];if(!n)return;n._removeAttribute(t),this.dispatchEventToListeners(WebInspector.DOMAgent.Events.AttrRemoved,{node:n,name:t})},_inlineStyleInvalidated:function(e){for(var t=0;t<e.length;++t)this._attributeLoadNodeIds[e[t]]=!0;if("_loadNodeAttributesTimeout"in this)return;this._loadNodeAttributesTimeout=setTimeout(this._loadNodeAttributes.bind(this),0)},_loadNodeAttributes:function(){function e(e,t,n){if(t)return;var r=this._idToDOMNode[e];r&&r._setAttributesPayload(n)&&this.dispatchEventToListeners(WebInspector.DOMAgent.Events.AttrModified,{node:r,name:"style"})}delete this._loadNodeAttributesTimeout;for(var t in this._attributeLoadNodeIds){var n=parseInt(t,10);DOMAgent.getAttributes(n,e.bind(this,n))}this._attributeLoadNodeIds={}},_characterDataModified:function(e,t){var n=this._idToDOMNode[e];n._nodeValue=t,this.dispatchEventToListeners(WebInspector.DOMAgent.Events.CharacterDataModified,n)},nodeForId:function(e){return this._idToDOMNode[e]},_documentUpdated:function(){this._setDocument(null)},_setDocument:function(e){this._idToDOMNode={},e&&"nodeId"in e?this._document=new WebInspector.DOMDocument(this,e):this._document=null,this.dispatchEventToListeners(WebInspector.DOMAgent.Events.DocumentUpdated,this._document)},_setDetachedRoot:function(e){e.nodeName==="#document"?new WebInspector.DOMDocument(this,e):new WebInspector.DOMNode(this,null,!1,e)},_setChildNodes:function(e,t){if(!e&&t.length){this._setDetachedRoot(t[0]);return}var n=this._idToDOMNode[e];n._setChildrenPayload(t)},_childNodeCountUpdated:function(e,t){var n=this._idToDOMNode[e];n._childNodeCount=t,this.dispatchEventToListeners(WebInspector.DOMAgent.Events.ChildNodeCountUpdated,n)},_childNodeInserted:function(e,t,n){var r=this._idToDOMNode[e],i=this._idToDOMNode[t],s=r._insertChild(i,n);this._idToDOMNode[s.id]=s,this.dispatchEventToListeners(WebInspector.DOMAgent.Events.NodeInserted,s)},_childNodeRemoved:function(e,t){var n=this._idToDOMNode[e],r=this._idToDOMNode[t];n._removeChild(r),this._unbind(r),this.dispatchEventToListeners(WebInspector.DOMAgent.Events.NodeRemoved,{node:r,parent:n})},_shadowRootPushed:function(e,t){var n=this._idToDOMNode[e];if(!n)return;var r=new WebInspector.DOMNode(this,n.ownerDocument,!0,t);r.parentNode=n,this._idToDOMNode[r.id]=r,n._shadowRoots.push(r),this.dispatchEventToListeners(WebInspector.DOMAgent.Events.NodeInserted,r)},_shadowRootPopped:function(e,t){var n=this._idToDOMNode[e];if(!n)return;var r=this._idToDOMNode[t];if(!r)return;n._shadowRoots.remove(r),this._unbind(r),this.dispatchEventToListeners(WebInspector.DOMAgent.Events.NodeRemoved,{node:r,parent:n})},_unbind:function(e){delete this._idToDOMNode[e.id];for(var t=0;e._children&&t<e._children.length;++t)this._unbind(e._children[t]);for(var t=0;t<e._shadowRoots.length;++t)this._unbind(e._shadowRoots[t]);e._templateContent&&this._unbind(e._templateContent)},inspectElement:function(e){var t=this._idToDOMNode[e];t&&this.dispatchEventToListeners(WebInspector.DOMAgent.Events.InspectNodeRequested,e)},_inspectNodeRequested:function(e){this.dispatchEventToListeners(WebInspector.DOMAgent.Events.InspectNodeRequested,e)},performSearch:function(e,t){function n(e,n,r){this._searchId=n,t(r)}this.cancelSearch(),DOMAgent.performSearch(e,n.bind(this))},searchResult:function(e,t){if(this._searchId){function n(e,n){if(e){console.error(e),t(null);return}if(n.length!=1)return;t(this._idToDOMNode[n[0]])}DOMAgent.getSearchResults(this._searchId,e,e+1,n.bind(this))}else t(null)},cancelSearch:function(){this._searchId&&(DOMAgent.discardSearchResults(this._searchId),delete this._searchId)},querySelector:function(e,t,n){DOMAgent.querySelector(e,t,this._wrapClientCallback(n))},querySelectorAll:function(e,t,n){DOMAgent.querySelectorAll(e,t,this._wrapClientCallback(n))},highlightDOMNode:function(e,t,n){this._hideDOMNodeHighlightTimeout&&(clearTimeout(this._hideDOMNodeHighlightTimeout),delete this._hideDOMNodeHighlightTimeout),this._highlighter.highlightDOMNode(e||0,this._buildHighlightConfig(t),n)},hideDOMNodeHighlight:function(){this.highlightDOMNode(0)},highlightDOMNodeForTwoSeconds:function(e){this.highlightDOMNode(e),this._hideDOMNodeHighlightTimeout=setTimeout(this.hideDOMNodeHighlight.bind(this),2e3)},setInspectModeEnabled:function(e,t,n){function r(){this._highlighter.setInspectModeEnabled(e,t,this._buildHighlightConfig(),n)}this.requestDocument(r.bind(this))},_buildHighlightConfig:function(e){e=e||"all";var t={showInfo:e==="all",showRulers:WebInspector.settings.showMetricsRulers.get()};if(e==="all"||e==="content")t.contentColor=WebInspector.Color.PageHighlight.Content.toProtocolRGBA();if(e==="all"||e==="padding")t.paddingColor=WebInspector.Color.PageHighlight.Padding.toProtocolRGBA();if(e==="all"||e==="border")t.borderColor=WebInspector.Color.PageHighlight.Border.toProtocolRGBA();if(e==="all"||e==="margin")t.marginColor=WebInspector.Color.PageHighlight.Margin.toProtocolRGBA();return e==="all"&&(t.eventTargetColor=WebInspector.Color.PageHighlight.EventTarget.toProtocolRGBA()),t},_markRevision:function(e,t){function n(e){e||this.markUndoableState(),t&&t.apply(this,arguments)}return n.bind(this)},emulateTouchEventObjects:function(e){function n(e,t){delete this._addTouchEventsScriptInjecting;if(e)return;this._addTouchEventsScriptId=t}const t=function(){const e=["ontouchstart","ontouchend","ontouchmove","ontouchcancel"];var t=[window.__proto__,document.__proto__];for(var n=0;n<e.length;++n)for(var r=0;r<t.length;++r)e[n]in t[r]||Object.defineProperty(t[r],e[n],{value:null,writable:!0,configurable:!0,enumerable:!0})};e&&!this._addTouchEventsScriptInjecting?(this._addTouchEventsScriptInjecting=!0,PageAgent.addScriptToEvaluateOnLoad("("+t.toString()+")()",n.bind(this))):typeof this._addTouchEventsScriptId!="undefined"&&(PageAgent.removeScriptToEvaluateOnLoad(this._addTouchEventsScriptId),delete this._addTouchEventsScriptId),PageAgent.setTouchEmulationEnabled(e)},markUndoableState:function(){DOMAgent.markUndoableState()},undo:function(e){function t(t){this.dispatchEventToListeners(WebInspector.DOMAgent.Events.UndoRedoCompleted),e(t)}this.dispatchEventToListeners(WebInspector.DOMAgent.Events.UndoRedoRequested),DOMAgent.undo(e)},redo:function(e){function t(t){this.dispatchEventToListeners(WebInspector.DOMAgent.Events.UndoRedoCompleted),e(t)}this.dispatchEventToListeners(WebInspector.DOMAgent.Events.UndoRedoRequested),DOMAgent.redo(e)},setHighlighter:function(e){this._highlighter=e||this._defaultHighlighter},__proto__:WebInspector.Object.prototype},WebInspector.DOMDispatcher=function(e){this._domAgent=e},WebInspector.DOMDispatcher.prototype={documentUpdated:function(){this._domAgent._documentUpdated()},inspectNodeRequested:function(e){this._domAgent._inspectNodeRequested(e)},attributeModified:function(e,t,n){this._domAgent._attributeModified(e,t,n)},attributeRemoved:function(e,t){this._domAgent._attributeRemoved(e,t)},inlineStyleInvalidated:function(e){this._domAgent._inlineStyleInvalidated(e)},characterDataModified:function(e,t){this._domAgent._characterDataModified(e,t)},setChildNodes:function(e,t){this._domAgent._setChildNodes(e,t)},childNodeCountUpdated:function(e,t){this._domAgent._childNodeCountUpdated(e,t)},childNodeInserted:function(e,t,n){this._domAgent._childNodeInserted(e,t,n)},childNodeRemoved:function(e,t){this._domAgent._childNodeRemoved(e,t)},shadowRootPushed:function(e,t){this._domAgent._shadowRootPushed(e,t)},shadowRootPopped:function(e,t){this._domAgent._shadowRootPopped(e,t)}},WebInspector.DOMNodeHighlighter=function(){},WebInspector.DOMNodeHighlighter.prototype={highlightDOMNode:function(e,t,n){},setInspectModeEnabled:function(e,t,n,r){}},WebInspector.DefaultDOMNodeHighlighter=function(){},WebInspector.DefaultDOMNodeHighlighter.prototype={highlightDOMNode:function(e,t,n){n||e?DOMAgent.highlightNode(t,n?undefined:e,n):DOMAgent.hideHighlight()},setInspectModeEnabled:function(e,t,n,r){DOMAgent.setInspectModeEnabled(e,t,n,r)}},WebInspector.domAgent=null;