/*
 * Copyright (C) 2008 Apple Inc. All Rights Reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

WebInspector.SidebarSectionTreeElement=function(e,t,n){TreeElement.call(this,e.escapeHTML(),t||{},n),this.expand()},WebInspector.SidebarSectionTreeElement.prototype={selectable:!1,collapse:function(){},get smallChildren(){return this._smallChildren},set smallChildren(e){if(this._smallChildren===e)return;this._smallChildren=e,this._smallChildren?this._childrenListNode.addStyleClass("small"):this._childrenListNode.removeStyleClass("small")},onattach:function(){this._listItemNode.addStyleClass("sidebar-tree-section")},onreveal:function(){this.listItemElement&&this.listItemElement.scrollIntoViewIfNeeded(!1)},__proto__:TreeElement.prototype},WebInspector.SidebarTreeElement=function(e,t,n,r,i){TreeElement.call(this,"",r,i),i&&(this.disclosureButton=document.createElement("button"),this.disclosureButton.className="disclosure-button"),this.iconElement||(this.iconElement=document.createElement("img"),this.iconElement.className="icon"),this.statusElement=document.createElement("div"),this.statusElement.className="status",this.titlesElement=document.createElement("div"),this.titlesElement.className="titles",this.titleElement=document.createElement("span"),this.titleElement.className="title",this.titlesElement.appendChild(this.titleElement),this.subtitleElement=document.createElement("span"),this.subtitleElement.className="subtitle",this.titlesElement.appendChild(this.subtitleElement),this.className=e,this.mainTitle=t,this.subtitle=n},WebInspector.SidebarTreeElement.prototype={get small(){return this._small},set small(e){this._small=e,this._listItemNode&&(this._small?this._listItemNode.addStyleClass("small"):this._listItemNode.removeStyleClass("small"))},get mainTitle(){return this._mainTitle},set mainTitle(e){this._mainTitle=e,this.refreshTitles()},get subtitle(){return this._subtitle},set subtitle(e){this._subtitle=e,this.refreshTitles()},get bubbleText(){return this._bubbleText},set bubbleText(e){this.bubbleElement||(this.bubbleElement=document.createElement("div"),this.bubbleElement.className="bubble",this.statusElement.appendChild(this.bubbleElement)),this._bubbleText=e,this.bubbleElement.textContent=e},set wait(e){e?this._listItemNode.addStyleClass("wait"):this._listItemNode.removeStyleClass("wait")},refreshTitles:function(){var e=this.mainTitle;this.titleElement.textContent!==e&&(this.titleElement.textContent=e);var t=this.subtitle;t?(this.subtitleElement.textContent!==t&&(this.subtitleElement.textContent=t),this.titlesElement.removeStyleClass("no-subtitle")):(this.subtitleElement.textContent="",this.titlesElement.addStyleClass("no-subtitle"))},isEventWithinDisclosureTriangle:function(e){return e.target===this.disclosureButton},onattach:function(){this._listItemNode.addStyleClass("sidebar-tree-item"),this.className&&this._listItemNode.addStyleClass(this.className),this.small&&this._listItemNode.addStyleClass("small"),this.hasChildren&&this.disclosureButton&&this._listItemNode.appendChild(this.disclosureButton),this._listItemNode.appendChild(this.iconElement),this._listItemNode.appendChild(this.statusElement),this._listItemNode.appendChild(this.titlesElement)},onreveal:function(){this._listItemNode&&this._listItemNode.scrollIntoViewIfNeeded(!1)},__proto__:TreeElement.prototype};