function onWebSocketConnected(){if(_inspectorInitialized)return;InspectorFrontendHost.sendMessageToBackend=WebInspector.socket.send.bind(WebInspector.socket),WebInspector.dockController=new WebInspector.DockController,WebInspector.doLoadedDone(),_inspectorInitialized=!0}function onWebSocketMessage(e){if(!e)return;e==="showConsole"?WebInspector.showConsole():InspectorBackend.dispatch(e)}function showMainAppFile(){var e=WebInspector.showPanel("scripts")._editorContainer._files;if(Object.keys(e).length>0)return;var t=getAllUiSourceCodes(),n=WebInspector.inspectedPageURL;for(var r in t){if(t[r].uri()!==n)continue;return WebInspector.showPanel("scripts").showUISourceCode(t[r]),!0}console.error("Cannot show the main application file ",n)}function getAllUiSourceCodes(){var e=WebInspector.workspace.projects(),t=[],n;for(var r=0;r<e.length;++r)n=e[r].uiSourceCodes().filter(function(e){return e.name()}),t=t.concat(n);return t}WebInspector.loaded=function(){WebInspector.socket=io.connect(window.location.protocol+"//"+window.location.host+"/"),WebInspector.socket.on("message",onWebSocketMessage),WebInspector.socket.on("error",function(e){console.error(e)}),WebInspector.socket.on("connect",onWebSocketConnected)};var _inspectorInitialized=!1;WebInspector.queryParamsObject.isSharedWorker=!0,WebInspector._orig_panelDescriptors=WebInspector._panelDescriptors,WebInspector._panelDescriptors=function(){var e=this._orig_panelDescriptors();return e.filter(function(e){return["scripts","console"].indexOf(e.name())!=-1})},importScript("WatchExpressionsSidebarPane.js"),WebInspector.WatchExpressionsSection.NewWatchExpression="''",Preferences.localizeUI=!1,Preferences.applicationTitle="Node Inspector",WebInspector._platformFlavor=WebInspector.PlatformFlavor.MacLeopard,WebInspector.WorkerManager._calculateWorkerInspectorTitle=function(){InspectorFrontendHost.inspectedURLChanged("")},InspectorFrontendHost.close=function(e,t,n){delete this._fileBuffers[e]},WebInspector.extensionServer._onSubscribe({type:WebInspector.extensionAPI.Events.ResourceContentCommitted},{postMessage:function(e){}}),WebInspector._orig_documentKeyDown=WebInspector.documentKeyDown,WebInspector.documentKeyDown=function(e){switch(e.keyIdentifier){case"U+0052":case"F5":return}WebInspector._orig_documentKeyDown(e)};var orig_createResourceFromFramePayload=WebInspector.ResourceTreeModel.prototype._createResourceFromFramePayload;WebInspector.ResourceTreeModel.prototype._createResourceFromFramePayload=function(e,t,n,r){return e._isNodeInspectorScript&&(n=WebInspector.resourceTypes.Script),orig_createResourceFromFramePayload(e,t,n,r)},WebInspector.notifications.addEventListener(WebInspector.Events.InspectorLoaded,function(){WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.CachedResourcesLoaded,showMainAppFile,null)},null);