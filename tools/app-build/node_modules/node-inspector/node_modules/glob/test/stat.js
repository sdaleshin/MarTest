var glob=require("../"),test=require("tap").test,path=require("path");test("stat all the things",function(e){var t=new glob.Glob("a/*abc*/**",{stat:!0,cwd:__dirname}),n=[];t.on("match",function(e){n.push(e)});var r=[];t.on("stat",function(e){r.push(e)}),t.on("end",function(t){r=r.sort(),n=n.sort(),t=t.sort(),e.same(r,n),e.same(t,n);var i=Object.keys(this.statCache);e.same(i.map(function(e){return path.relative(__dirname,e)}).sort(),n),i.forEach(function(t){e.equal(typeof this.statCache[t],"object")},this),e.end()})});