var tap=require("tap"),origCwd=process.cwd();process.chdir(__dirname),tap.test("changing root and searching for /b*/**",function(e){var t=require("../"),n=require("path");e.test(".",function(e){t("/b*/**",{globDebug:!0,root:".",nomount:!0},function(t,n){e.ifError(t),e.like(n,[]),e.end()})}),e.test("a",function(e){t("/b*/**",{globDebug:!0,root:n.resolve("a"),nomount:!0},function(t,n){e.ifError(t),e.like(n,["/b","/b/c","/b/c/d","/bc","/bc/e","/bc/e/f"]),e.end()})}),e.test("root=a, cwd=a/b",function(e){t("/b*/**",{globDebug:!0,root:"a",cwd:n.resolve("a/b"),nomount:!0},function(t,n){e.ifError(t),e.like(n,["/b","/b/c","/b/c/d","/bc","/bc/e","/bc/e/f"]),e.end()})}),e.test("cd -",function(e){process.chdir(origCwd),e.end()}),e.end()});