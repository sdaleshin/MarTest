var tap=require("tap"),origCwd=process.cwd();process.chdir(__dirname),tap.test("changing cwd and searching for **/d",function(e){var t=require("../"),n=require("path");e.test(".",function(e){t("**/d",function(t,n){e.ifError(t),e.like(n,["a/b/c/d","a/c/d"]),e.end()})}),e.test("a",function(e){t("**/d",{cwd:n.resolve("a")},function(t,n){e.ifError(t),e.like(n,["b/c/d","c/d"]),e.end()})}),e.test("a/b",function(e){t("**/d",{cwd:n.resolve("a/b")},function(t,n){e.ifError(t),e.like(n,["c/d"]),e.end()})}),e.test("a/b/",function(e){t("**/d",{cwd:n.resolve("a/b/")},function(t,n){e.ifError(t),e.like(n,["c/d"]),e.end()})}),e.test(".",function(e){t("**/d",{cwd:process.cwd()},function(t,n){e.ifError(t),e.like(n,["a/b/c/d","a/c/d"]),e.end()})}),e.test("cd -",function(e){process.chdir(origCwd),e.end()}),e.end()});