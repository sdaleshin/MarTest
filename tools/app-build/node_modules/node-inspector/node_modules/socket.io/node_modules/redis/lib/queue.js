function Queue(){this.tail=[],this.head=[],this.offset=0}var to_array=require("./to_array");Queue.prototype.shift=function(){if(this.offset===this.head.length){var e=this.head;e.length=0,this.head=this.tail,this.tail=e,this.offset=0;if(this.head.length===0)return}return this.head[this.offset++]},Queue.prototype.push=function(e){return this.tail.push(e)},Queue.prototype.forEach=function(e,t){var n=this.head.slice(this.offset),r,i;n.push.apply(n,this.tail);if(t)for(r=0,i=n.length;r<i;r+=1)e.call(t,n[r],r,n);else for(r=0,i=n.length;r<i;r+=1)e(n[r],r,n);return n},Queue.prototype.getLength=function(){return this.head.length-this.offset+this.tail.length},Object.defineProperty(Queue.prototype,"length",{get:function(){return this.getLength()}}),typeof module!="undefined"&&module.exports&&(module.exports=Queue);