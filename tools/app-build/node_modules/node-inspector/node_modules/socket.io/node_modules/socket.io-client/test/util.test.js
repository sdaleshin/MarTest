/*!
 * socket.io-node
 * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
 * MIT Licensed
 */

(function(e,t,n){e.exports={"parse uri":function(){var e=t.util.parseUri("http://google.com"),n=t.util.parseUri("https://www.google.com:80"),r=t.util.parseUri("google.com:8080/foo/bar?foo=bar");e.protocol.should().eql("http"),e.port.should().eql(""),e.host.should().eql("google.com"),n.protocol.should().eql("https"),n.port.should().eql("80"),n.host.should().eql("www.google.com"),r.port.should().eql("8080"),r.query.should().eql("foo=bar"),r.path.should().eql("/foo/bar"),r.relative.should().eql("/foo/bar?foo=bar")},"unique uri":function(){var e=t.util.parseUri("http://google.com"),n=t.util.parseUri("google.com"),r=t.util.parseUri("https://google.com"),i=t.util.parseUri("https://google.com/google.com/com/?foo=bar");"object"==typeof window?(t.util.uniqueUri(e).should().eql("http://google.com:3000"),t.util.uniqueUri(n).should().eql("http://google.com:3000")):(t.util.uniqueUri(e).should().eql("http://google.com:80"),t.util.uniqueUri(n).should().eql("http://google.com:80")),t.util.uniqueUri(r).should().eql("https://google.com:443"),t.util.uniqueUri(i).should().eql("https://google.com:443")},"chunk query string":function(){t.util.chunkQuery("foo=bar").should().be.a("object"),t.util.chunkQuery("foo=bar").foo.should().eql("bar")},"merge query strings":function(){var e=t.util.query("foo=bar","foo=baz"),n=t.util.query("foo=bar","bar=foo");e.should().eql("?foo=baz"),n.should().eql("?foo=bar&bar=foo"),t.util.query("","").should().eql(""),t.util.query("foo=bar","").should().eql("?foo=bar"),t.util.query("","foo=bar").should().eql("?foo=bar")},request:function(){var e=typeof t.util.request();e.should().eql("object")},"is array":function(){t.util.isArray([]).should().be_true,t.util.isArray({}).should().be_false,t.util.isArray("str").should().be_false,t.util.isArray(new Date).should().be_false,t.util.isArray(!0).should().be_false,t.util.isArray(arguments).should().be_false},"merge, deep merge":function(){var e={foo:"bar",bar:"baz"},n={foo:"foo",bar:"bar"},r={ping:"pong"},i={level1:{foo:"bar",level2:{foo:"bar",level3:{foo:"bar",rescursive:i}}}},s={foo:"bar",level1:{foo:"baz",level2:{foo:"foo",level3:{foo:"pewpew",rescursive:i}}}};t.util.merge(e,n),e.foo.should().eql("foo"),e.bar.should().eql("bar"),t.util.merge(e,r),e.ping.should().eql("pong"),e.foo.should().eql("foo"),t.util.merge(i,s),i.foo.should().eql("bar"),i.level1.foo.should().eql("baz"),i.level1.level2.foo.should().eql("foo"),i.level1.level2.level3.foo.should().eql("pewpew")},defer:function(e){var n=+(new Date);t.util.defer(function(){(new Date-n>=(t.util.webkit?100:0)).should().be_true(),e()})},indexOf:function(){var e=["socket",2,3,4,"socket",5,6,7,"io"];t.util.indexOf(e,"socket",1).should().eql(4),t.util.indexOf(e,"socket").should().eql(0),t.util.indexOf(e,"waffles").should().eql(-1)}}})("undefined"==typeof module?module={}:module,"undefined"==typeof io?require("socket.io-client"):io,"undefined"==typeof should?require("should"):should);