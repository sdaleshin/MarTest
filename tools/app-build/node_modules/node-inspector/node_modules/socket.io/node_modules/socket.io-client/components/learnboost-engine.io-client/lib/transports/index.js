function polling(e){var t,n=!1,r=!1;if(global.location){var i="https:"==location.protocol,s=location.port;Number(s)!=s&&(s=i?443:80),n=e.host!=location.hostname||s!=e.port,r=e.secure!=i}return t=util.request(n),r&&global.XDomainRequest&&t instanceof global.XDomainRequest?new JSONP(e):t&&!e.forceJSONP?new XHR(e):new JSONP(e)}var XHR=require("./polling-xhr"),JSONP=require("./polling-jsonp"),websocket=require("./websocket"),flashsocket=require("./flashsocket"),util=require("../util");exports.polling=polling,exports.websocket=websocket,exports.flashsocket=flashsocket;var global="undefined"!=typeof window?window:global;