var WebSocketServer=require("../").Server;process.on("uncaughtException",function(e){console.log("Caught exception: ",e,e.stack)}),process.on("SIGINT",function(){try{console.log("Updating reports and shutting down");var e=new WebSocket("ws://localhost:9001/updateReports?agent=ws");e.on("close",function(){process.exit()})}catch(t){process.exit()}});var wss=new WebSocketServer({port:8181});wss.on("connection",function(e){console.log("new connection"),e.on("message",function(t,n){e.send(n.buffer,{binary:n.binary===!0})}),e.on("error",function(){console.log("error",arguments)})});