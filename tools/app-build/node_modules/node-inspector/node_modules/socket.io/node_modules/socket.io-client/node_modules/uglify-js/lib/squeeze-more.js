function ast_squeeze_more(e){function i(e,t){var n=r,i;return r=e,i=t(),r=n,i}function s(e,t,r){return[this[0],e,t,i(r.scope,curry(MAP,r,n))]}var t=pro.ast_walker(),n=t.walk,r;return t.with_walkers({toplevel:function(e){return[this[0],i(this.scope,curry(MAP,e,n))]},"function":s,defun:s,"new":function(e,t){if(e[0]=="name"){if(e[1]=="Array"&&!r.has("Array"))return t.length!=1?["array",t]:n(["call",["name","Array"],t]);if(e[1]=="Object"&&!r.has("Object"))return t.length?n(["call",["name","Object"],t]):["object",[]];if((e[1]=="RegExp"||e[1]=="Function"||e[1]=="Error")&&!r.has(e[1]))return n(["call",["name",e[1]],t])}},call:function(e,t){if(e[0]=="dot"&&e[2]=="toString"&&t.length==0)return["binary","+",e[1],["string",""]];if(e[0]=="name"){if(e[1]=="Array"&&t.length!=1&&!r.has("Array"))return["array",t];if(e[1]=="Object"&&!t.length&&!r.has("Object"))return["object",[]];if(e[1]=="String"&&!r.has("String"))return["binary","+",t[0],["string",""]]}}},function(){return n(pro.ast_add_scope(e))})}var jsp=require("./parse-js"),pro=require("./process"),slice=jsp.slice,member=jsp.member,curry=jsp.curry,MAP=pro.MAP,PRECEDENCE=jsp.PRECEDENCE,OPERATORS=jsp.OPERATORS;exports.ast_squeeze_more=ast_squeeze_more;