(function(){var e=require("fs"),t={ssl:!0,port:8080,ssl_key:"/path/to/you/ssl.key",ssl_cert:"/path/to/you/ssl.crt"},n=t.ssl?require("https"):require("http"),r=require("../").Server,i=null,s=function(e,t){t.writeHead(200),t.end("All glory to WebSockets!\n")};t.ssl?i=n.createServer({key:e.readFileSync(t.ssl_key),cert:e.readFileSync(t.ssl_cert)},s).listen(t.port):i=n.createServer(s).listen(t.port);var o=new r({server:i});o.on("connection",function(e){e.on("message",function(e){console.log(e)})})})();