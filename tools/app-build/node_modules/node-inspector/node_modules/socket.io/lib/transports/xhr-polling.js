/*!
 * socket.io-node
 * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
 * MIT Licensed
 */

function XHRPolling(e,t,n){HTTPPolling.call(this,e,t,n)}var HTTPPolling=require("./http-polling");exports=module.exports=XHRPolling,XHRPolling.prototype.__proto__=HTTPPolling.prototype,XHRPolling.prototype.name="xhr-polling",XHRPolling.prototype.doWrite=function(e){HTTPPolling.prototype.doWrite.call(this);var t=this.req.headers.origin,n={"Content-Type":"text/plain; charset=UTF-8","Content-Length":e===undefined?0:Buffer.byteLength(e),Connection:"Keep-Alive"};t&&(n["Access-Control-Allow-Origin"]=t,n["Access-Control-Allow-Credentials"]="true"),this.response.writeHead(200,n),this.response.write(e),this.log.debug(this.name+" writing",e)};