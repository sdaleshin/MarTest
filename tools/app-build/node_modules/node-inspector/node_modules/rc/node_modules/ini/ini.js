function encode(e,t){var n=[],r="";return Object.keys(e).forEach(function(t,i,s){var o=e[t];o&&Array.isArray(o)?o.forEach(function(e){r+=safe(t+"[]")+" = "+safe(e)+"\n"}):o&&typeof o=="object"?n.push(t):r+=safe(t)+" = "+safe(o)+eol}),t&&r.length&&(r="["+safe(t)+"]"+eol+r),n.forEach(function(n,i,s){var o=dotSplit(n).join("\\."),u=encode(e[n],(t?t+".":"")+o);r.length&&u.length&&(r+=eol),r+=u}),r}function dotSplit(e){return e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(function(e){return e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")})}function decode(e){var t={},n=t,r=null,i="START",s=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,o=e.split(/[\r\n]+/g),r=null;return o.forEach(function(e,i,o){if(!e||e.match(/^\s*;/))return;var u=e.match(s);if(!u)return;if(u[1]!==undefined){r=unsafe(u[1]),n=t[r]=t[r]||{};return}var a=unsafe(u[2]),f=u[3]?unsafe(u[4]||""):!0;switch(f){case"true":case"false":case"null":f=JSON.parse(f)}a.length>2&&a.slice(-2)==="[]"&&(a=a.substring(0,a.length-2),n[a]?Array.isArray(n[a])||(n[a]=[n[a]]):n[a]=[]),Array.isArray(n[a])?n[a].push(f):n[a]=f}),Object.keys(t).filter(function(e,n,r){if(!t[e]||typeof t[e]!="object"||Array.isArray(t[e]))return!1;var i=dotSplit(e),s=t,o=i.pop(),u=o.replace(/\\\./g,".");return i.forEach(function(e,t,n){if(!s[e]||typeof s[e]!="object")s[e]={};s=s[e]}),s===t&&u===o?!1:(s[u]=t[e],!0)}).forEach(function(e,n,r){delete t[e]}),t}function safe(e){return typeof e!="string"||e.match(/[\r\n]/)||e.match(/^\[/)||e.length>1&&e.charAt(0)==='"'&&e.slice(-1)==='"'||e!==e.trim()?JSON.stringify(e):e.replace(/;/g,"\\;")}function unsafe(e,t){e=(e||"").trim();if(e.charAt(0)!=='"'||e.slice(-1)!=='"'){var r=!1,i="";for(var s=0,o=e.length;s<o;s++){var u=e.charAt(s);if(r)u==="\\"||u===";"?i+=u:i+="\\"+u,r=!1;else{if(u===";")break;u==="\\"?r=!0:i+=u}}return r&&(i+="\\"),i}try{e=JSON.parse(e)}catch(n){}return e}exports.parse=exports.decode=decode,exports.stringify=exports.encode=encode,exports.safe=safe,exports.unsafe=unsafe;var eol=process.platform==="win32"?"\r\n":"\n";