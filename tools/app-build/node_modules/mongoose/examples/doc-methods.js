function example(){Character.create({name:"Link",health:100},function(e,t){if(e)return done(e);console.log("found",t),t.attack(),done()})}function done(e){e&&console.error(e),mongoose.connection.db.dropDatabase(function(){mongoose.disconnect()})}var mongoose=require("mongoose"),Schema=mongoose.Schema;console.log("Running mongoose version %s",mongoose.version);var CharacterSchema=Schema({name:{type:String,required:!0},health:{type:Number,min:0,max:100}});CharacterSchema.methods.attack=function(){console.log("%s is attacking",this.name)};var Character=mongoose.model("Character",CharacterSchema),dbname="mongoose-example-doc-methods-"+(Math.random()*1e4|0),uri="mongodb://localhost/"+dbname;console.log("connecting to %s",uri),mongoose.connect(uri,function(e){if(e)throw e;example()});