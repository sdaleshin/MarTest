/*!
 * Module dependencies.
 */

/*!
 * Module exports.
 */

function Collection(e,t,n){undefined===n&&(n={}),undefined===n.capped&&(n.capped={}),n.bufferCommands=undefined===n.bufferCommands?!0:n.bufferCommands,"number"==typeof n.capped&&(n.capped={size:n.capped}),this.opts=n,this.name=e,this.conn=t,this.queue=[],this.buffer=this.opts.bufferCommands,STATES.connected==this.conn.readyState&&this.onOpen()}var STATES=require("./connectionstate");Collection.prototype.name,Collection.prototype.conn,Collection.prototype.onOpen=function(){var e=this;this.buffer=!1,e.doQueue()},Collection.prototype.onClose=function(){this.opts.bufferCommands&&(this.buffer=!0)},Collection.prototype.addQueue=function(e,t){return this.queue.push([e,t]),this},Collection.prototype.doQueue=function(){for(var e=0,t=this.queue.length;e<t;e++)this[this.queue[e][0]].apply(this,this.queue[e][1]);return this.queue=[],this},Collection.prototype.ensureIndex=function(){throw new Error("Collection#ensureIndex unimplemented by driver")},Collection.prototype.findAndModify=function(){throw new Error("Collection#findAndModify unimplemented by driver")},Collection.prototype.findOne=function(){throw new Error("Collection#findOne unimplemented by driver")},Collection.prototype.find=function(){throw new Error("Collection#find unimplemented by driver")},Collection.prototype.insert=function(){throw new Error("Collection#insert unimplemented by driver")},Collection.prototype.save=function(){throw new Error("Collection#save unimplemented by driver")},Collection.prototype.update=function(){throw new Error("Collection#update unimplemented by driver")},Collection.prototype.getIndexes=function(){throw new Error("Collection#getIndexes unimplemented by driver")},Collection.prototype.mapReduce=function(){throw new Error("Collection#mapReduce unimplemented by driver")},module.exports=Collection;