define(["app","entities/user","apps/users/edit/edit_view"],function(e){e.module("UserApp.Edit",function(e,t,n,r,i,s){e.Controller=r.Controller.extend({initialize:function(e){e=e||{};var n=e.id,r=t.request("user:entity",n);t.execute("when:fetched",r,function(){this.layout=this.getLayoutView(),this.layout.on("show",function(){this.showPanel(r)},this),t.mainRegion.show(this.layout)},this)},getLayoutView:function(){return new e.Layout},showPanel:function(e){var t=this.getPanelView(e);this.listenTo(t,"btnSave:clicked",this.onBtnSaveClicked),this.listenTo(t,"btnCancel:clicked",this.onBtnCancelClicked),this.layout.panelRegion.show(t)},onBtnCancelClicked:function(e){t.navigate("users",!0)},onBtnSaveClicked:function(e){var n=t.request("update:users:entity",e.model);t.execute("when:fetched",n,function(){t.navigate("users",!0)},this)},getPanelView:function(t){return new e.User({model:t})}})})});