define(["marionette"],function(e){(function(e,t,n){e.extend(n.Application.prototype,{navigate:function(e,n){n||(n={}),t.history.navigate(e,n)},getCurrentRoute:function(){var n=t.history.fragment;return e.isEmpty(n)?null:n},startHistory:function(){t.history&&t.history.start()},register:function(e,t){this._registry||(this._registry={}),this._registry[t]=e},unregister:function(e,t){delete this._registry[t]},resetRegistry:function(){var t=this.getRegistrySize();e.each(this._registry,function(e,t){e.region.close()},this);var n="There were "+t+" controllers in the registry, there are now "+this.getRegistrySize();this.getRegistrySize()>0?colsole.warn(n):colsole.log(n)},getRegistrySize:function(){return e.size(this._registry)}})})(_,Backbone,e)});